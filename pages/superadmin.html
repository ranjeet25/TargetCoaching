<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- CSS & Bootstrap links -->

    <link rel="stylesheet" href="/css/superadmin.css" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <!-- Bootstrap JavaScript -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>

    <!-- CSS & Bootstrap links Ends -->
    <title>Document</title>
  </head>
  <body>
    <section class="main_container container-fluid">
      <div class="row">
        <div class="sidebar col-2">
          <section class="logo row">
            <h4>TargetCoaching</h4>
          </section>
          <section class="profile_box row">
            <div class="profile_content">
              <h6>Admin Panel</h6>
              <h4>Ranjeet Saw</h4>
              <p>Role <span>SuperAdmin</span></p>
            </div>
          </section>
          <section class="button_box">
            <button
              onclick="createBranch()"
              class="side_btn btn btn-outline-light"
            >
              Create Branch
            </button>
            <button
              onclick="manageBranches()"
              class="side_btn btn btn-outline-light"
            >
              Remove Branch
            </button>

            <button
              onclick="viewBranches()"
              class="side_btn btn btn-outline-light"
            >
              View Branches
            </button>
            <button class="side_btn btn btn-outline-danger">Logout</button>
          </section>
        </div>
        <div class="main_dashboard col">
          <!-- <header class="navigation_bar row">dfaf</header> -->
          <section class="content_section row">
            <div class="content_1 container">
              <!-- ********* Contents ********* -->

              <!-- ********* 0001111 ********* -->
              <h4 id="dashboard_heading-1">Create a new Branch</h4>
              <div
                id="content_container-1"
                class="content_container rounded rounded-5"
              >

              <!-- Content SECTION -->
                <div class="create_branch_box">
                  <form id=" form_container" action="http://localhost:8100/superAdmin" method="POST">
                    <div class="col-md-12">
                      <div class="form-group">
                        <label id="branch-label" for="branch_name"
                          >New Branch Name</label
                        >
                        <input
                          type="text"
                          name="branch_name"
                          id="branch_name"
                          placeholder="Enter Branch Name"
                          class="btn_outline form-control"
                          required
                        />
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <label id="location-label" for="location"
                          >Location</label
                        >
                        <input
                          type="text"
                          name="location"
                          id="location"
                          placeholder="Enter Location"
                          class="form-control"
                          required
                        />
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <label id="date-label" for="date">Select Date</label>
                        <input type="date" name="date" class="form-control" id="date" />
                      </div>
                    </div>
                    <div class="col-md-12">
                      <button
                        type="submit"
                        class="btn btn-outline-primary"
                        id="btn_submit"
                      >
                        Create Branch
                      </button>
                    </div>
                  </form>
                </div>
                  <!-- Content SECTION -->
              </div>

              <!-- ********* 00022222 ********* -->
              <h4 style="display: none" id="dashboard_heading-3">
                Remove a Branch
              </h4>
              <div
                id="content_container-3"
                class="content_container rounded rounded-5"
                style="display: none"
              >

                <!-- Content SECTION -->
                <div class="create_branch_box">
                  <form id=" form_container">
                    <div class="col-md-12">
                      <div class="form-group">
                        <label id="branch-label" for="branch_name"></label>
                          Branch Name</label
                        >
                        <input
                          type="text"
                          name="branch_name"
                          id="remove_branch_name"
                          placeholder="Enter Branch Name to Remove"
                          class="btn_outline form-control"
                          required
                        />
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <label id="location-label" for="location"
                          >Branch ID</label
                        >
                        <input
                          type="text"
                          name="location"
                          id="removeId"
                          placeholder="Enter Branch ID"
                          class="form-control"
                          required
                        />
                      </div>
                    </div>
                   
                    <div class="col-md-12">
                      <button
                        type="button"
                        class="btn btn-outline-primary"
                        id="remove_btn_submit"
                      >
                        Remove Branch
                      </button>
                    </div>
                  </form>
                </div>
                  <!-- Content SECTION -->
              </div>

              <!-- ********* 0003333 ********* -->
              <h4 style="display: none" id="dashboard_heading-2">
                View Branches
              </h4>
              <div
                id="content_container-2"
                class="content_container rounded rounded-5"
                style="display: none"
              >
                <!-- Content SECTION -->
              <div class="branch_detail_box">
                  <table class="table table-bordered table-hover ">
                         <thead >
                           <tr  >
                             <th scope="col">Srno</th>
                             <th scope="col">Branch ID</th>
                             <th scope="col">Branch Name</th>
                             <th scope="col">Branch Location</th>
                             <th scope="col">Opening Date</th>
                           </tr>
                         </thead>
                         <tbody id="data-output">
                           <tr >
                             <!-- <th scope="row">1</th>
                             <td id="branch_id"><span>12055fd8fgg45fd5</span></td>
                             <td>OM Target Tution</td>
                             <td>Boriwali</td>
                             <td>20-04-2023</td> -->
                           </tr>
                        
                         </tbody>
                 </table>
              </div>
                <!-- Content SECTION -->
              
              </div>
            </div>
          </section>
        </div>
      </div>
    </section>

    <script>
    
    var brachData = new Object()
    const url ="http://localhost:8100/superAdmin/branchDetails";
    fetch(url)
    .then(res => res.json())
    .then(data =>{
      brachData = data;
      getData();
    })


    function getData(){
      let placeholder = document.querySelector("#data-output");
   let out = "";
   for(let i=0 ; i<brachData.length ; i++){

    date = brachData[0].date.slice(0,10);
      out += `
         <tr>
            <td>${i+1}</td>
            <td id="branch_id"><span>${brachData[i]._id}<span></td>
            <td>${brachData[i].branch_name}</td>
            <td>${brachData[i].location}</td>
            <td>${date}</td>
         </tr>
      `;
    }

    placeholder.innerHTML = out;
  } 





      var dh1 = document.getElementById("dashboard_heading-1");
      var cc1 = document.getElementById("content_container-1");

      var dh2 = document.getElementById("dashboard_heading-2");
      var cc2 = document.getElementById("content_container-2");

      var dh3 = document.getElementById("dashboard_heading-3");
      var cc3 = document.getElementById("content_container-3");

      function createBranch() {
        if ((dh1.style.display = "none") && (cc1.style.display = "none")) {
          dh1.style.display = "inline";
          cc1.style.display = "flex";

          dh2.style.display = "none";
          cc2.style.display = "none";

          dh3.style.display = "none";
          cc3.style.display = "none";
        }
      }
      function viewBranches() {
        if ((dh2.style.display = "none") && (cc2.style.display = "none")) {
          dh2.style.display = "inline";
          cc2.style.display = "flex";

          dh1.style.display = "none";
          cc1.style.display = "none";

          dh3.style.display = "none";
          cc3.style.display = "none";
        }
      }
      function manageBranches() {
        if ((dh3.style.display = "none") && (cc3.style.display = "none")) {
          dh3.style.display = "inline";
          cc3.style.display = "flex";

          dh2.style.display = "none";
          cc2.style.display = "none";

          dh1.style.display = "none";
          cc1.style.display = "none";
        }
      }
    </script>
  </body>
</html>
